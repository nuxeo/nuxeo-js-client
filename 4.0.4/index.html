<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h2>Client Library for Nuxeo API</h2>
<p><a href="https://jenkins.platform.dev.nuxeo.com/job/js-client/job/nuxeo-js-client/job/master/"><img src="https://jenkins.platform.dev.nuxeo.com/buildStatus/icon?job=js-client%2Fnuxeo-js-client%2Fmaster" alt="Jenkins"></a><br>
<a href="https://www.npmjs.com/package/nuxeo"><img src="https://img.shields.io/npm/v/nuxeo.svg?style=flat-square" alt="npm version"></a><br>
<a href="https://www.npmjs.com/package/nuxeo"><img src="https://img.shields.io/npm/dm/nuxeo.svg?style=flat-square" alt="npm downloads"></a><br>
<a href="https://david-dm.org/nuxeo/nuxeo-js-client"><img src="https://img.shields.io/david/nuxeo/nuxeo-js-client.svg?style=flat-square" alt="Dependency Status"></a> <a href="https://david-dm.org/nuxeo/nuxeo-js-client#info=devDependencies"><img src="https://img.shields.io/david/dev/nuxeo/nuxeo-js-client.svg?style=flat-square" alt="devDependency Status"></a></p>
<img alt="Browser Support thanks to SauceLabs" src="https://saucelabs.com/browser-matrix/nuxeo-js-client.svg" width="200" />
<p>The Nuxeo JavaScript Client is a JavaScript client library for the Nuxeo Automation and REST API. The library can work in a browser, or in Node.js, using the same API.</p>
<p>This is an on-going project, supported by Nuxeo.</p>
<h2>Nuxeo Platform Dependency</h2>
<p>The JS Client is compliant with all Nuxeo versions as of LTS 2015.</p>
<h2>Getting Started</h2>
<h3>Installation</h3>
<h4>Node.js Applications</h4>
<p>After <a href="http://nodejs.org/#download">installing</a> <a href="http://nodejs.org">Node.js</a>, use <code>npm</code> or <code>yarn</code> to install the <code>nuxeo</code> package:</p>
<pre class="prettyprint source lang-bash"><code>npm install nuxeo
</code></pre>
<p>or</p>
<pre class="prettyprint source lang-bash"><code>yarn add nuxeo
</code></pre>
<h5>Node.js</h5>
<pre class="prettyprint source lang-javascript"><code>var Nuxeo = require('nuxeo');
var nuxeo = new Nuxeo({ ... });
</code></pre>
<h4>Bower Powered Applications</h4>
<p>The <code>nuxeo</code> client can be also installed through bower:</p>
<pre class="prettyprint source lang-bash"><code>  bower install nuxeo --save
</code></pre>
<p>When added to your page, <code>Nuxeo</code> is available as a global variable.</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({ ... });
</code></pre>
<h4>Angular Applications</h4>
<p>After adding <code>nuxeo</code> through Bower, you can easily create a service that will return a client:</p>
<pre class="prettyprint source lang-javascript"><code>...
.service('nuxeo', function() {
  return new Nuxeo({
    baseURL: 'http://localhost:8080/nuxeo/',
    auth: {
      method: 'basic',
      username: 'Administrator',
      password: 'Administrator'
    }
  });
})
...
</code></pre>
<p>To notify Angular to update the UI when a Nuxeo promise has resolved, you can either wrap Nuxeo promises in <code>$q.when()</code><br>
or, the preferred way, configure the Promise library class to be <code>$q</code>.</p>
<pre class="prettyprint source lang-javascript"><code>// wrap promises
...
$q.when(nuxeo.request('/path/').get()).then(function(res) {
  $scope.res = res;
});
// use $q as the Promise library class
...
.service('nuxeo', function($q) {
  Nuxeo.promiseLibrary($q);
  return new Nuxeo({
    baseURL: 'http://localhost:8080/nuxeo/',
    auth: {
      method: 'basic',
      username: 'Administrator',
      password: 'Administrator'
    }
  });
})
...
</code></pre>
<h4>Angular v2 Applications</h4>
<p>After adding <code>nuxeo</code> through <code>npm</code> or <code>yarn</code> to your application, you can use the Nuxeo client directly by requiring the <code>nuxeo</code> module:</p>
<pre class="prettyprint source lang-javascript"><code>const Nuxeo = require('nuxeo');
...
const nuxeo = new Nuxeo({...});
...
</code></pre>
<p><code>Nuxeo</code> works correctly with Angular v2 <code>ZoneAwarePromise</code> Promise library, so the component tree will be re-rendered when a <code>Promise</code> from <code>Nuxeo</code> will resolve.</p>
<h4>React Applications</h4>
<p>After adding <code>nuxeo</code> through <code>npm</code> or <code>yarn</code> to your application:</p>
<pre class="prettyprint source lang-javascript"><code>var Nuxeo = require('nuxeo');
</code></pre>
<h2>Documentation</h2>
<p>Check out the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/">API documentation</a>.</p>
<h2>Examples</h2>
<p>Some working examples using the Nuxeo JavaScript Client can be found <a href="https://github.com/nuxeo/nuxeo-js-client/tree/master/examples">here</a>.</p>
<h2>Deprecated APIs</h2>
<p><strong>Nuxeo.oauth2.getAuthorizationURL(baseURL, clientId[, params])</strong> (since 4.0.0)</p>
<p>The <code>getAuthorizationURL(baseURL, clientId[, params])</code> method is deprecated in favor of the <code>getAuthorizationURL(opts)</code> method. The old arguments are now passed in the <code>opts</code> object, such as:</p>
<pre class="prettyprint source lang-javascript"><code>Nuxeo.oauth2.getAuthorizationURL({ baseURL, clientId, params })
</code></pre>
<p><strong>Nuxeo.oauth2.fetchAccessTokenFromAuthorizationCode(baseURL, clientId, code[, params])</strong> (since 4.0.0)</p>
<p>The <code>fetchAccessTokenFromAuthorizationCode(baseURL, clientId, code[, params])</code> method is deprecated in favor of the <code>fetchAccessTokenFromAuthorizationCode(opts)</code> method. The old arguments are now passed in the <code>opts</code> object, such as:</p>
<pre class="prettyprint source lang-javascript"><code>Nuxeo.oauth2.fetchAccessTokenFromAuthorizationCode({ baseURL, clientId, code, params })
</code></pre>
<p><strong>Nuxeo.oauth2.fetchAccessTokenFromJWTToken(baseURL, clientId, jwtToken[, params])</strong> (since 4.0.0)</p>
<p>The <code>fetchAccessTokenFromJWTToken(baseURL, clientId, jwtToken[, params])</code> method is deprecated in favor of the <code>fetchAccessTokenFromJWTToken(opts)</code> method. The old arguments are now passed in the <code>opts</code> object, such as:</p>
<pre class="prettyprint source lang-javascript"><code>Nuxeo.oauth2.fetchAccessTokenFromJWTToken({ baseURL, clientId, jwtToken, params })
</code></pre>
<p><strong>Nuxeo.oauth2.refreshAccessToken(baseURL, clientId, refreshToken[, params])</strong> (since 4.0.0)</p>
<p>The <code>refreshAccessToken(baseURL, clientId, refreshToken[, params])</code> method is deprecated in favor of the <code>refreshAccessToken(opts)</code> method. The old arguments are now passed in the <code>opts</code> object, such as:</p>
<pre class="prettyprint source lang-javascript"><code>Nuxeo.oauth2.refreshAccessToken({ baseURL, clientId, refreshToken, params })
</code></pre>
<p><strong>Base#timeout</strong> (since 3.6.0)</p>
<p>The <code>timeout</code> method available on the <code>Base</code> class is deprecated in favor of using directly the <code>httpTimeout</code> or <code>transactionTimeout</code> methods depending of what needs to be configured.</p>
<p>Note that the <code>httpTimeout</code> is in milliseconds while the <code>transactionTimeout</code> is in seconds, so guessing the <code>transactionTimeout</code> from a <code>timeout</code> is a bad idea, you better need to be explicit.</p>
<p><strong>Nuxeo#nuxeoVersion</strong> (since 3.5.0)</p>
<p>The <code>nuxeoVersion</code> property of a Nuxeo client instance is deprecated in favor of the <code>serverVersion</code> property that allows correct versions comparison.</p>
<p>The <code>Nuxeo.VERSIONS</code> object is also deprecated in favor of the <code>Nuxeo.SERVER_VERSIONS</code> object.</p>
<p>_<em>Nuxeo#<em>http</em></em> (since 3.3.0)</p>
<p>The &quot;private&quot; <code>_http</code> method is deprecated in favor of the &quot;public&quot; <code>http</code> method.</p>
<p><strong>Nuxeo#login</strong> (since 3.0.0)</p>
<p>The <code>login</code> method is deprecated in favor of the <code>connect</code> method.</p>
<h2>Quick Start</h2>
<p>This quick start guide will show how to do basics operations using the client.</p>
<h3>Authentication</h3>
<p>The authentication method to be used is defined when creating a client:</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  auth: {
    method: ...,
    ...
  }
});
</code></pre>
<p>The client supports different authentication methods matching the ones available on the Nuxeo Platform.</p>
<h4>Basic Authentication</h4>
<p>The simplest one allowing to authenticate with a <code>username</code> and <code>password</code>.</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  auth: {
    method: 'basic',
    username: 'Administrator',
    password: 'Administrator'
  }
});
</code></pre>
<h4>Portal Authenticaton</h4>
<p>If the <a href="https://doc.nuxeo.com/nxdoc/using-sso-portals/">Portal Authentication</a> is configured on the Nuxeo Platform,<br>
you can authenticate with the <code>portal</code> method.</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  auth: {
    method: 'portal',
    username: 'joe',
    secret: 'shared-secret-from-server'
  }
});
</code></pre>
<h4>Token Authentication</h4>
<p>To authenticate through a token from the Nuxeo Server:</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  auth: {
    method: 'token',
    token: 'a-token'
  }
});
</code></pre>
<p>There is a utility method <code>Nuxeo#requestAuthenticationToken</code> to retrieve a <code>token</code> from a Nuxeo Server using the configured authentication method.<br>
For instance, a typical flow would be:</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  auth: {
    method: 'basic',
    username: 'Administrator',
    password: 'Administrator'
  }
});

nuxeo.requestAuthenticationToken('My App', deviceUID, deviceName, 'rw')
  .then(function(token) {
    nuxeo = new Nuxeo({
      auth: {
        method: 'token',
        token: token
      }
    });

    // do something with the new `nuxeo` client using token authentication
    // store the token, and next time you need to create a client, use it
  })
  .catch(function(err) {
    throw err;
  });
</code></pre>
<h4>OAuth2 Authorization and Bearer Token Authentication</h4>
<p>Since Nuxeo Platform 9.2, you can use OAuth2 authorization through the JS client.</p>
<p>For more information on OAuth2 server side, see <a href="https://doc.nuxeo.com/nxdoc/using-oauth2/">Using OAuth2</a>.</p>
<p>Assuming you already have an access token, you can configure the client:</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  auth: {
    method: 'bearerToken',
    token: access_token,
    clientId: 'my-app', // optional OAuth2 client ID to refresh the access token
    clientSecret: 'my-secret', // required if the client defines a secret
  }
});
</code></pre>
<p>The <code>bearertoken</code> method supports the <code>token</code> being a simple string (an access token) or a full token object such as:</p>
<pre class="prettyprint source lang-javascript"><code>{
  &quot;access_token&quot;:&quot;H8dXDdEW9U2jJnFDh6lJJ74AHRzCyG4D&quot;,
  &quot;token_type&quot;:&quot;bearer&quot;,
  &quot;expires_in&quot;:3600,
  &quot;refresh_token&quot;:&quot;Amz8JlyglhGWDmYHMYS5EnTTFUFAwZLiHG4aqQDfkwUNunSMpTTSFUmvprX3WdSF&quot;
}
</code></pre>
<p>If the <code>token</code> is a full token object (ie. with a <code>refresh_token</code> key) and a <code>clientId</code> is configured on the <code>auth</code> object, the client will try automatically to refresh the access token if it's expired.</p>
<h5>OAuth2 Flow</h5>
<p>A typical OAuth2 flow with the Nuxeo Platform would be:</p>
<p><strong>Retrieving Authorization Code</strong></p>
<p>Generate a &quot;log in&quot; link to be used in a browser, such as:</p>
<p><code>http://localhost:8080/nuxeo/oauth2/authorize?client_id=CLIENT_ID[&amp;client_secret=CLIENT_SECRET]&amp;response_type=code&amp;redirect_uri=REDIRECT_URI</code></p>
<p>The user sees the login page then, after being logged in, the authorization prompt for the application.</p>
<p>If the user grants access, the Nuxeo Platform redirects the user back to the application:</p>
<p><code>http://localhost:8000/authorize?code=AUTH_CODE</code></p>
<p><strong>Retrieving Access Token</strong></p>
<p>The client exchanges the authorization code for an access token:</p>
<pre class="prettyprint source"><code>POST http://localhost:8080/nuxeo/oauth2/token
  grant_type=authorization_code
  code=AUTH_CODE
  redirect_uri=REDIRECT_URI
  client_id=CLIENT_ID
  client_secret=CLIENT_SECRET
</code></pre>
<p>The Nuxeo Platform replies with an access token:</p>
<pre class="prettyprint source lang-javascript"><code>{
  &quot;access_token&quot;:&quot;H8dXDdEW9U2jJnFDh6lJJ74AHRzCyG4D&quot;,
  &quot;token_type&quot;:&quot;bearer&quot;,
  &quot;expires_in&quot;:3600,
  &quot;refresh_token&quot;:&quot;Amz8JlyglhGWDmYHMYS5EnTTFUFAwZLiHG4aqQDfkwUNunSMpTTSFUmvprX3WdSF&quot;
}
</code></pre>
<p>There are some utility methods on the client to help you with this flow:</p>
<p><strong>Nuxeo.oauth2.getAuthorizationURL(opts)</strong></p>
<p>Returns the OAuth2 authorization URL for the given <code>opts</code> object, containing <code>baseURL</code>, <code>clientId</code>, optional <code>clientSecret</code> and optional <code>params</code>.</p>
<pre class="prettyprint source lang-javascript"><code>var authorizationURL = Nuxeo.oauth2.getAuthorizationURL({
  baseURL: 'http://localhost:8080/nuxeo',
  clientId: 'my-app',
  clientSecret: 'my-secret', // required if the client defines a secret
  params: {
    state: 'xyz',
    redirect_uri: 'http://localhost:8000/authorize',
  }
});
console.log(authorizationURL); // http://localhost:8080/nuxeo/oauth2/authorize?client_id=my-app&response_type=code&state=xyz&redirect_uri=http://localhost:8000/authorize
</code></pre>
<p><strong>Nuxeo.oauth2.fetchAccessTokenFromAuthorizationCode(opts)</strong></p>
<p>Fetches an OAuth2 access token for the given <code>opts</code> object containing <code>baseURL</code>, <code>clientId</code>, <code>code</code>, optional <code>clientSecret</code> and optional <code>params</code>.</p>
<pre class="prettyprint source lang-javascript"><code>var code = ...
Nuxeo.oauth2.fetchAccessTokenFromAuthorizationCode({
  baseURL: 'http://localhost:8080/nuxeo',
  clientId: 'my-app',
  clientSecret: 'my-secret', // required if the client defines a secret
  code: code,
  params: {
    redirect_uri: 'http://localhost:8000/authorize',
  }
}).then(function(token) {
  // do something with the access token
  var nuxeo = new Nuxeo({
    auth: {
      method: 'bearerToken',
      token: token,
      clientId: 'my-app', // optional OAuth2 client ID to refresh the access token
      clientSecret: 'my-secret', // required if the client defines a secret
    }
  });
});
</code></pre>
<p><strong>Nuxeo.oauth2.fetchAccessTokenFromJWTToken(opts)</strong></p>
<p>Fetches an OAuth2 access token for the given <code>opts</code> object containing <code>baseURL</code>, <code>clientId</code>, <code>jwtToken</code>, optional <code>clientSecret</code> and optional <code>params</code>.</p>
<pre class="prettyprint source lang-javascript"><code>var jwtToken = ...
Nuxeo.oauth2.fetchAccessTokenFromJWTToken({
  baseURL: 'http://localhost:8080/nuxeo',
  clientId: 'my-app',
  clientSecret: 'my-secret', // required if the client defines a secret
  jwtToken: jwtToken,
  params: {
    redirect_uri: 'http://localhost:8000/authorize',
  }
}).then(function(token) {
  // do something with the access token
  var nuxeo = new Nuxeo({
    auth: {
      method: 'bearerToken',
      token: token
    }
  });
});
</code></pre>
<p><strong>Nuxeo.oauth2.refreshAccessToken(optsbaseURL, clientId, refreshToken[, params])</strong></p>
<p>Manually refresh an access token for the given <code>opts</code> object containing <code>baseURL</code>, <code>clientId</code>, <code>refreshToken</code>, optional <code>clientSecret</code> and optional <code>params</code>.</p>
<pre class="prettyprint source lang-javascript"><code>var refreshToken = ...
Nuxeo.oauth2.refreshAccessToken({
  baseURL: 'http://localhost:8080/nuxeo',
  clientId: 'my-app',
  clientSecret: 'my-secret', // required if the client defines a secret
  refreshToken: refreshToken,
}).then(function(token) {
    console.log(token); // refreshed access token
});
</code></pre>
<h3>Creating a Client</h3>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  auth: {
    method: 'basic',
    username: 'Administrator',
    password: 'Administrator'
  }
});
</code></pre>
<p>To connect to a different Nuxeo Platform Instance, you can use the following:</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({
  baseURL: 'http://demo.nuxeo.com/nuxeo/',
  auth: {
    method: 'basic',
    username: 'Administrator',
    password: 'Administrator'
  }
});
</code></pre>
<h3>Promise Based Calls</h3>
<p>All API calls made on the server return a Promise object.</p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.operation('Document.GetChildren')
  .input('/')
  .execute()
  .then(function(docs) {
    // work with docs
  })
  .catch(function(error) {
    // something went wrong
    throw error;
  });
</code></pre>
<p>When something went wrong, the <code>error</code> is an <code>Error</code> object with a <code>response</code> field containing the whole response.</p>
<h3>Connecting to a Nuxeo Server</h3>
<p>After creating a Client, you can connect to a Nuxeo Server by using the <code>connect</code> method.<br>
This method returns a <code>Promise</code> which is resolved with the connected client.</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({ ... });
nuxeo.connect()
  .then(function(client){
    // client.connected === true
    // client === nuxeo
    console.log('Connected OK!');
  })
  .catch(function(error) {
    // wrong credentials / auth method / ...
    throw error;
  });
</code></pre>
<h4>Current User</h4>
<p>The <code>connect</code> method fills the <code>user</code> property of the client. <code>user</code> is a full <code>User</code> object.</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({ ... });
nuxeo.connect()
  .then(function(client){
    // client.user.id === 'Administrator'
    console.log(client.user);
  })
  .catch(function(error) {
    // wrong credentials / auth method / ...
    throw error;
  });
</code></pre>
<h4>Nuxeo Server version</h4>
<p>The <code>connect</code> method fills the <code>serverVersion</code> property of the client.</p>
<pre class="prettyprint source lang-javascript"><code>var nuxeo = new Nuxeo({ ... });
nuxeo.connect()
  .then(function(client){
    console.log(client.serverVersion); // '9.10'
  })
  .catch(function(error) {
    // wrong credentials / auth method / ...
    throw error;
  });
</code></pre>
<p>Some constants are available in the <code>Nuxeo</code> object for supported LTS versions:</p>
<pre class="prettyprint source lang-javascript"><code>Nuxeo.SERVER_VERSIONS.LTS_2017; // for '9.10';
Nuxeo.SERVER_VERSIONS.LTS_2019; // for '10.10';
</code></pre>
<p>You can use them to easily make different calls according to the target version:</p>
<pre class="prettyprint source lang-javascript"><code>...
if (nuxeo.serverVersion.lt(Nuxeo.SERVER_VERSIONS.LTS_2017)) {
  // do something on versions before LTS 2016
} else {
  // do something else
}
...
</code></pre>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/ServerVersion.html">ServerVersion</a> documentation.</p>
<p>Note that the <code>nuxeoVersion</code> property is deprecated but it is still filled with the Nuxeo Server version.</p>
<h3>Operation</h3>
<p><code>Operation</code> object allows you to execute an operation<br>
(or operation chain).</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/Operation.html">Operation</a> documentation.</p>
<h4>Samples</h4>
<p><strong>Call an operation to create a new folder in the Root document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.operation('Document.Create')
  .params({
    type: 'Folder',
    name: 'My Folder',
    properties: 'dc:title=My Folder \ndc:description=A Simple Folder'
  })
  .input('/')
  .execute()
  .then(function(doc) {
    console.log('Created ' + doc.title + ' folder');
  })
  .catch(function(error) {
    throw error;
  });
</code></pre>
<h3>Request</h3>
<p>The <code>Request</code> object allows you to call the Nuxeo REST API.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/Request.html">Request</a> documentation.</p>
<h4>Samples</h4>
<p><strong>Fetch the Administrator user</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.request('user/Administrator')
  .get()
  .then(function(user) {
    console.log(user);
  })
  .catch(function(error) {
    throw error;
  });
</code></pre>
<p><strong>Fetch the whole list of Natures</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.request('directory/nature')
  .get()
  .then(function(data) {
    console.log(JSON.stringify(data.entries, null, 2))
  })
  .catch(function(error) {
    throw error
  });
</code></pre>
<h3>Repository</h3>
<p>The <code>Repository</code> object allows you to work with document.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/Repository.html">Repository</a> documentation.</p>
<h4>Samples</h4>
<p><strong>Create a <code>Repository</code> object</strong></p>
<pre class="prettyprint source lang-javascript"><code>var defaultRepository = nuxeo.repository(); // 'default' repository
...
var testRepository = nuxeo.repository('test'); // 'test' repository
...
</code></pre>
<p><strong>Fetch the Root document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.repository().fetch('/')
  .then(function(doc) {
    console.log(doc);
  })
  .catch(function(error) {
    throw error;
  });
</code></pre>
<p><strong>Create a new folder</strong></p>
<pre class="prettyprint source lang-javascript"><code>var newFolder = {
  'entity-type': 'document',
  name: 'a-folder',
  type: 'Folder',
  properties: {
    'dc:title': 'foo'
  }
};
nuxeo.repository()
  .create('/', newFolder)
  .then(function(doc) {
    console.log(doc);
  })
  .catch(function(error) {
    throw error;
  });
</code></pre>
<p><strong>Delete a document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.repository()
  .delete('/a-folder')
  .then(function(res) {
    // res.status === 204
  });
</code></pre>
<h3>Document</h3>
<p><code>Repository</code> object returns and works with <code>Document</code> objects. <code>Document</code> objects exposes a simpler API<br>
to work with a document.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/Document.html">Document</a> documentation.</p>
<h4>Samples</h4>
<p><strong>Retrieve a <code>Document</code> object</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.repository()
  .fetch('/')
  .then(function(doc) {
    // doc instanceof Nuxeo.Document === true
  })
  .catch(function(error) {
    throw error;
  });
</code></pre>
<p><strong>Set a document property</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.set({ 'dc:title': 'foo' });
</code></pre>
<p><strong>Get a document property</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.get('dc:title');
</code></pre>
<p><strong>Save an updated document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.repository()
  .fetch('/')
  .then(function(doc) {
    // doc.title !== 'foo'
    doc.set({ 'dc:title': 'foo' });
    return doc.save();
  })
  .then(function(doc) {
    // doc.title === 'foo'
  })
  .catch(function(error) {
    throw error;
  });
</code></pre>
<p><strong>Fetch the main Blob of a document</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.fetchBlob()
  .then(function(res) {
    // in the browser, use res.blob() to work with the converted PDF
    // in Node.js, use res.body
  });
</code></pre>
<p><strong>Convert a document main Blob to PDF</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.convert({ format: 'pdf' })
  .then(function(res) {
    // in the browser, use res.blob() to work with the converted PDF
    // in Node.js, use res.body
  });
</code></pre>
<p><strong>Fetch the 'thumbnail' rendition</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.fetchRendition('thumbnail')
  .then(function(res) {
    // in the browser, use res.blob() to work with the rendition
    // in Node.js, use res.body
  });
</code></pre>
<p><strong>Start a workflow</strong></p>
<pre class="prettyprint source lang-javascript"><code>doc.startWorkflow('SerialDocumentReview')
  .then(function(workflow) {
    // workflow instance of Nuxeo.Workflow
  });
</code></pre>
<p><strong>Complete a workflow task</strong></p>
<pre class="prettyprint source lang-javascript"><code>workflow.fetchTasks()
  .then(function(tasks) {
    return tasks[0];
  })
  .then(function(tasks) {
    task.variable('participants', ['user:Administrator'])
      .variable('assignees', ['user:Administrator'])
      .variable('end_date', '2011-10-23T12:00:00.00Z');
    return task.complete('start_review', { comment: 'a comment' });
  })
  .then(function(task) {
    // task.state === 'ended'
  })
</code></pre>
<h3>BatchUpload</h3>
<p>The <code>BatchUpload</code> object allows you to upload blobs to a Nuxeo Platform instance, and use them as operation input or<br>
as document property value.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/BatchUpload.html">BatchUpload</a> documentation.</p>
<h4>Samples</h4>
<p><strong>Create a Nuxeo.Blob to be uploaded</strong></p>
<pre class="prettyprint source lang-javascript"><code>// on the browser, assuming you have a File object 'file'
var blob = new Nuxeo.Blob({ content: file });
// the name, mimeType and size will be extracted from the file object itself, you can still override them.
...
// on Node.js, assuming you have a Stream 'file'
var blob = new Nuxeo.Blob({ content: file, name: 'foo.txt', mimeType: 'plain/text', size: 10 })
</code></pre>
<p><strong>Upload a blob</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.batchUpload()
  .upload(blob)
  .then(function(res) {
    // res.blob instanceof Nuxeo.BatchBlob
    console.log(res.blob);
  })
  .catch(function(error) {
    throw error;
  });
</code></pre>
<p><strong>Attach an uploaded blob to a document</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.batchUpload()
  .upload(blob)
  .then(function(res) {
    return nuxeo.operation('Blob.AttachOnDocument')
      .param('document', '/a-file')
      .input(res.blob)
      .execute();
  })
  .then(function() {
    return nuxeo.repository().fetch('/a-file', { schemas: ['dublincore', 'file']});
  })
  .then(function(doc) {
    console.log(doc.get('file:content'));
  })
  .catch(function(error) {
    throw error;
  });
</code></pre>
<h3>Users</h3>
<p>The <code>Users</code> object allows you to work with users.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/Users.html">Users</a> and<br>
<a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/User.html">User</a> documentation.</p>
<h4>Samples</h4>
<p><strong>Fetch an user</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.users()
  .fetch('Administrator')
  .then(function(user) {
    // user.id === 'Administrator'
  });
</code></pre>
<p><strong>Create a new user</strong></p>
<pre class="prettyprint source lang-javascript"><code>var newUser = {
  properties: {
    username: 'leela',
    firstName: 'Leela',
    company: 'Futurama',
    email: 'leela@futurama.com'
  },
};
nuxeo.users()
  .create(newUser)
  .then(function(user) {
    // user.id === 'leela'
  });
</code></pre>
<p><strong>Delete an user</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.users()
  .delete('leela').then(function(res) {
    // res.status === 204
  });
</code></pre>
<h3>Groups</h3>
<p>The <code>Groups</code> object allows you to work with groups.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/Groups.html">Groups</a> and<br>
<a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/Group.html">Group</a> documentation.</p>
<h4>Samples</h4>
<p><strong>Fetch a group</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.groups().fetch('administrators')
  .then(function(group) {
    // group.groupname === 'administrators'
  });
</code></pre>
<p><strong>Create a new group</strong></p>
<pre class="prettyprint source lang-javascript"><code>var newGroup = {
  groupname: 'foo',
  grouplabel: 'Foo'
};
nuxeo.groups()
  .create(newGroup)
  .then(function(group) {
    // group.groupname === 'foo';
  });
</code></pre>
<p><strong>Delete a group</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.groups()
  .delete('foo').then(function(res) {
    // res.status === 204
  });
</code></pre>
<h3>Directory</h3>
<p>The <code>Directory</code> object allows you to work with directories.</p>
<p>See the <a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/Directory.html">Directory</a> and<br>
<a href="https://nuxeo.github.io/nuxeo-js-client/4.0.4/DirectoryEntry.html">DirectoryEntry</a> documentation.</p>
<h4>Samples</h4>
<p><strong>Fetch all entries of a directory</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.directory('nature')
  .fetchAll()
  .then(function(entries) {
    // entries instance of Array
  });
</code></pre>
<p><strong>Fetch a given directory entry</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.directory('nature')
  .fetch('article')
  .then(function(entry) {
    // entry.directoryName === 'nature'
    // entry.properties.id === 'article'
  });
</code></pre>
<p><strong>Create a new directory entry</strong></p>
<pre class="prettyprint source lang-javascript"><code>var newEntry = {
  properties: {
    id: 'foo',
    label: 'Foo'
  },
};
nuxeo.directory('nature')
  .create(newEntry)
  .then(function(entry) {
    // entry.directoryName === 'nature'
    // entry.properties.id === 'foo'
  });
</code></pre>
<p><strong>Delete a directory entry</strong></p>
<pre class="prettyprint source lang-javascript"><code>nuxeo.directory('nature')
 .delete('foo')
 .then(function(res) {
   // res.status === 204
 });
</code></pre>
<h2>Contributing</h2>
<p>See our <a href="https://doc.nuxeo.com/x/VIZH">contribution documentation</a>.</p>
<h3>Requirements</h3>
<ul>
<li><a href="http://nodejs.org/#download">Node.js</a></li>
<li><a href="http://bower.io/">Bower</a></li>
<li><a href="https://yarnpkg.com/">yarn</a></li>
</ul>
<h3>Setup</h3>
<p>Install <a href="http://nodejs.org/#download">Node.js</a> and then use <code>yarn</code> to install all the required<br>
libraries:</p>
<pre><code>$ git clone https://github.com/nuxeo/nuxeo-js-client
$ cd nuxeo-js-client
$ yarn
</code></pre>
<h3>Test</h3>
<p>A Nuxeo Platform instance needs to be running on <code>http://localhost:8080/nuxeo</code> for the tests to be run.</p>
<p>Tests can be launched on Node.js with:</p>
<pre><code>$ yarn test:node
</code></pre>
<p>For testing the browser client (tests are run on Chrome by default):</p>
<pre><code>$ yarn test:browser
</code></pre>
<p>To run both Node.js and browser tests:</p>
<pre><code>$ yarn test
</code></pre>
<h3>Reporting Issues</h3>
<p>You can follow the developments in the Nuxeo JS Client project of our JIRA bug tracker: <a href="https://jira.nuxeo.com/browse/NXJS">https://jira.nuxeo.com/browse/NXJS</a>.</p>
<p>You can report issues on <a href="http://answers.nuxeo.com">answers.nuxeo.com</a>.</p>
<h2>Big Thanks</h2>
<p>Cross-browser Testing Platform and Open Source &lt;3 Provided by <a href="https://saucelabs.com">Sauce Labs</a></p>
<h2>License</h2>
<p><a href="https://www.apache.org/licenses/LICENSE-2.0.txt">Apache License 2.0</a> Copyright (c) Nuxeo SA</p>
<h2>About Nuxeo</h2>
<p>Nuxeo dramatically improves how content-based applications are built, managed and deployed, making customers more agile, innovative and successful. Nuxeo provides a next generation, enterprise ready platform for building traditional and cutting-edge content oriented applications. Combining a powerful application development environment with SaaS-based tools and a modular architecture, the Nuxeo Platform and Products provide clear business value to some of the most recognizable brands including Verizon, Electronic Arts, Sharp, FICO, the U.S. Navy, and Boeing. Nuxeo is headquartered in New York and Paris. More information is available at <a href="http://www.nuxeo.com/">www.nuxeo.com</a>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BatchBlob.html">BatchBlob</a></li><li><a href="BatchUpload.html">BatchUpload</a></li><li><a href="Blob.html">Blob</a></li><li><a href="Directory.html">Directory</a></li><li><a href="DirectoryEntry.html">DirectoryEntry</a></li><li><a href="Document.html">Document</a></li><li><a href="Group.html">Group</a></li><li><a href="Groups.html">Groups</a></li><li><a href="Nuxeo.html">Nuxeo</a></li><li><a href="Operation.html">Operation</a></li><li><a href="Repository.html">Repository</a></li><li><a href="Request.html">Request</a></li><li><a href="ServerVersion.html">ServerVersion</a></li><li><a href="Task.html">Task</a></li><li><a href="User.html">User</a></li><li><a href="Users.html">Users</a></li><li><a href="Workflow.html">Workflow</a></li><li><a href="Workflows.html">Workflows</a></li></ul><h3>Mixins</h3><ul><li><a href="Base.html">Base</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Mon Dec 02 2024 10:14:28 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>